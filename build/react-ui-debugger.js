'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _reactDom=require('react-dom'),_reactDom2=_interopRequireDefault(_reactDom),_reactAddonsPerf=require('react-addons-perf'),_reactAddonsPerf2=_interopRequireDefault(_reactAddonsPerf);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var setDefault=function setDefault(a){return'function'==typeof a?a:function(){}},getName=function getName(a){return a.displayName||a.name},log=function log(a,b){for(var _len=arguments.length,c=Array(2<_len?_len-2:0),_key=2;_key<_len;_key++)c[_key-2]=arguments[_key];console.log('[ReactUIDebugger] ['+getName(a)+'] '+b+' - ('+new Date().toJSON()+')',c.length?c:'')},defaults={MOUNT:'mount',UPDATE:'update'},settings={highlightStyle:{animationDuration:400,mount:{web:'3px solid rgba(205, 0, 0, 1)'},update:{web:'3px solid rgba(0, 205, 0, 1)'},default:{web:'1px solid rgba(235, 235, 235, 1)'}}},highlightChanges=function highlightChanges(b){var _this=this;'undefined'!=typeof __TEST__&&__TEST__||function(){var c=_reactDom2.default.findDOMNode(_this);c&&(c.style.boxSizing='border-box',c.style.transition='outline 0s',window.requestAnimationFrame(function(){c.style.outline=settings.highlightStyle[b].web,window.requestAnimationFrame(function(){c.style.outline=settings.highlightStyle.default.web,c.style.transition='outline '+settings.highlightStyle.animationDuration+'ms linear'})}))}()};function ReactUIDebugger(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if('undefined'!=typeof __DEV__&&!__DEV__||'undefined'!=typeof a.UIdebugActive&&!a.UIdebugActive)return a;a||a.prototype||(a.prototype={});var b={componentWillMount:setDefault(a.prototype.componentWillMount),componentDidMount:setDefault(a.prototype.componentDidMount),componentDidUpdate:setDefault(a.prototype.componentDidUpdate),componentWillUnmount:setDefault(a.prototype.componentWillUnmount)};a.prototype.UIdebugActive=!0;var c={mount:0,update:0},d=function d(){c.mount=0,c.update=0},e=function e(){return log(a,'component will unmount','UI Change Counts : ',c),c};return a.prototype.showDebugCounts=e,a.prototype.componentWillMount=function(){d(),_reactAddonsPerf2.default.start(),b.componentWillMount.call(this)},a.prototype.componentDidMount=function(){b.componentDidMount.call(this),c.mount+=1,highlightChanges.call(this,defaults.MOUNT),log(a,'component did mount')},a.prototype.componentDidUpdate=function(){b.componentDidUpdate.call(this),c.update+=1,highlightChanges.call(this,defaults.UPDATE),log(a,'component did update')},a.prototype.componentWillUnmount=function(){e(),_reactAddonsPerf2.default.stop();var g=_reactAddonsPerf2.default.getLastMeasurements();_reactAddonsPerf2.default.printInclusive(g),_reactAddonsPerf2.default.printWasted(g),b.componentWillUnmount.call(this)},log(a,'active'),a}exports.default=ReactUIDebugger;
